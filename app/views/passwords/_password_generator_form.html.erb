<% if !defined?(hide_header) || !hide_header %>
<h1><%= t('password_generator') %></h1>
<% end %>
<hr />
<form action="<%= generator_passwords_path %>"
      method="get"
      id="generate-password-form"
      data-async-action="<%= generate_passwords_path %>">
  <div class="row">
    <div class="col-sm-3">
      <input id="lower"
             type="checkbox"
             name="lower"
             value="true"
             <%= 'checked' if @lower || (defined?(lower) && lower) %>/>
             <label for="lower">a-z</label>
    </div>
    <div class="col-sm-3">
      <input id="upper"
             type="checkbox"
             name="upper"
             value="true"
             <%= 'checked' if @upper || (defined?(upper) && upper) %>/>
             <label for="upper">A-Z</label>
    </div>
    <div class="col-sm-3">
      <input id="numbers"
             type="checkbox"
             name="numbers"
             value="true"
             <%= 'checked' if @numbers || (defined?(numbers) && numbers) %>/>
             <label for="numbers">0-9</label>
    </div>
    <div class="col-sm-3">
      <input id="symbols"
             type="checkbox"
             name="symbols"
             value="true"
             <%= 'checked' if @symbols || (defined?(symbols) && symbols) %>/>
             <label for="symbols">!@#$</label>
    </div>
    <div class="col-sm-12">
      <input class="form-control"
             type="range"
             name="length"
             min="6"
             max="32"
             data-target="length-label"
             value="<%= @length || length %>">
             <label>
               <%= t('length') %>
               <span class="length-label text-primary">
                 <%= @length || length %>
               </span>
             </label>
    </div>
  </div>

  <div class="text-center mt-4">
    <button type="submit" class="btn btn-success" id="generate-password">
      <%= t('generate') %>
    </button>
  </div>
</form>

<hr />

<div class="text-center">
  <input id="generated-password"
         class="d-inline-block border py-4 mb-3 font-weight-bold text-monospace text-primary form-control"
         value="<%= @random_string %>"
         readonly />
  <span class="copied-to-clipboard text-success font-weight-bold">
    <%= t('copied') %>
  </span>
  <br/>
  <a href="javascript:;" class="copy-text" data-for="generated-password">
    <%= t('copy') %>
  </a>
</div>
